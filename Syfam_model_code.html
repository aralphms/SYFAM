<pre><font color="#007f69">globals</font><font color="#000000"><br />[<br />  number-of-days                              </font><font color="#5a5a5a">; number of simulated days (1 day = 10 time steps)</font><font color="#000000"><br />  k-min                                       </font><font color="#5a5a5a">; minimum abundance of mosquitoes during the simulation</font><font color="#000000"><br />  alpha                                       </font><font color="#5a5a5a">; base coefficient in the equation of adult mosquitoes carrying capacity (current-K)</font><font color="#000000"><br />  beta                                        </font><font color="#5a5a5a">; trend coefficient in the equation of current-K</font><font color="#000000"><br />  gamma                                       </font><font color="#5a5a5a">; seasonal coefficient in the equation of current-K</font><font color="#000000"><br />  mosquito-transmission-competence            </font><font color="#5a5a5a">; probability of a infectious mosquito transmit the virus to a susceptible vertebrate host during an interaction</font><font color="#000000"><br />  monkey-transmission-competence              </font><font color="#5a5a5a">; probability of a infectious monkey transmit the virus to a susceptible mosquito during an interaction</font><font color="#000000"><br />  alternative-host-transmission-competence    </font><font color="#5a5a5a">; probability of a infectious other-host transmit the virus to a susceptible mosquito during an interaction</font><font color="#000000"><br />  hourly-mosquito-infection-rate              </font><font color="#5a5a5a">; a list that counts and stores the infection rate in the mosquito population at each time step</font><font color="#000000"><br />  vertebrate-hosts                            </font><font color="#5a5a5a">; a variable that group monkeys and other-hosts</font><font color="#000000"><br />  biting-success                              </font><font color="#5a5a5a">; the probability of a blood-seeking mosquito have success (bite the host) during an interaction with a vertebrate host</font><font color="#000000"><br />  monkey-population                           </font><font color="#5a5a5a">; the initial population size of monkeys</font><font color="#000000"><br />  monkey-group-size                           </font><font color="#5a5a5a">; the initial number of monkeys in each group</font><font color="#000000"><br />  A                                           </font><font color="#5a5a5a">; the parameter β0 of the logistic model that controls the larval density</font><font color="#000000"><br />  B                                           </font><font color="#5a5a5a">; the parameter β1 of the logistic model that controls the larval density</font><font color="#000000"><br />]<br /><br /></font><font color="#660096">breed</font><font color="#000000"> [mosquitoes mosquito]<br /></font><font color="#660096">breed</font><font color="#000000"> [monkeys monkey]<br /></font><font color="#660096">breed</font><font color="#000000"> [other-hosts other-host]<br /><br /></font><font color="#007f69">patches-own</font><font color="#000000"><br />[<br />  patch-type                            </font><font color="#5a5a5a">; if patch is forest or breeding site</font><font color="#000000"><br />  larval-development-time               </font><font color="#5a5a5a">; the list that control the time elapsed for each oviposition event</font><font color="#000000"><br />  larval-viral-status                   </font><font color="#5a5a5a">; the list that controls if a given oviposition event came from an infectious mosquito</font><font color="#000000"><br />  my-larval-number                      </font><font color="#5a5a5a">; current number of immature individuals contained in the patch</font><font color="#000000"><br />  num-potential-infec-mosquitoes        </font><font color="#5a5a5a">; current number of oviposition events from infectious mosquitoes contained in the patch</font><font color="#000000"><br />]<br /><br /></font><font color="#007f69">mosquitoes-own</font><font color="#000000"><br />[<br />  blood-seeking?            </font><font color="#5a5a5a">; if true, the mosquito will seek a host to perform the blood meal</font><font color="#000000"><br />  engorged?                </font><font color="#5a5a5a">; if true, the mosquito is digesting the blood and maturing the eggs</font><font color="#000000"><br />  time-to-blood-digestion   </font><font color="#5a5a5a">; time elapsed (time steps) since the blood meal</font><font color="#000000"><br />  gravid?                   </font><font color="#5a5a5a">; if true, the mosquito is looking for breeding sites to lay its eggs</font><font color="#000000"><br />  newly-emerged?            </font><font color="#5a5a5a">; if true, the mosquito is a newly emerged adult</font><font color="#000000"><br />  time-since-emergence      </font><font color="#5a5a5a">; time elapsed (time steps) since the adult emergence (when &gt; 10 the individual change the status to blood-seeking? = true)</font><font color="#000000"><br />  blood-meals               </font><font color="#5a5a5a">; number of blood meals performed by the individual</font><font color="#000000"><br />  oviposition-number        </font><font color="#5a5a5a">; number of ovipositions performed by the individual (0 = nulliparous, &gt; 0 = parous)</font><font color="#000000"><br />  blood-meal-level          </font><font color="#5a5a5a">; amount of blood ingested by a blood-seeking mosquito (ranges from 0 to 1)</font><font color="#000000"><br />    </font><font color="#5a5a5a">;;related to YFV transmission</font><font color="#000000"><br />  susceptible?              </font><font color="#5a5a5a">; if true, the mosquito is susceptible</font><font color="#000000"><br />  exposed?                  </font><font color="#5a5a5a">; if true, the mosquito is infected but in latent period</font><font color="#000000"><br />  infectious?               </font><font color="#5a5a5a">; if true, the mosquito is infected and infectious</font><font color="#000000"><br />  virus-incubation          </font><font color="#5a5a5a">; the incubation period of the virus in mosquitoes</font><font color="#000000"><br />  initiators?               </font><font color="#5a5a5a">; the mosquitoes selected to initiate the virus transmission</font><font color="#000000"><br />]<br /><br /></font><font color="#007f69">monkeys-own</font><font color="#000000"><br />[<br />  my-group-ID              </font><font color="#5a5a5a">; the number that defines the group the monkey belongs to.</font><font color="#000000"><br />  my-territory             </font><font color="#5a5a5a">; the patches that represent the monkey's group territory</font><font color="#000000"><br />  my-status                </font><font color="#5a5a5a">; if the status of the monkey in its group is alpha or subordinate</font><font color="#000000"><br />  susceptible?             </font><font color="#5a5a5a">; if true, the monkey is susceptible</font><font color="#000000"><br />  exposed?                 </font><font color="#5a5a5a">; if true, the monkey is infected but in latent period</font><font color="#000000"><br />  infectious?              </font><font color="#5a5a5a">; if true, the monkey is infected and infectious</font><font color="#000000"><br />  immune?                  </font><font color="#5a5a5a">; if true, the monkey is immune</font><font color="#000000"><br />  latent-period            </font><font color="#5a5a5a">; the latent period of the virus</font><font color="#000000"><br />  viremic-period           </font><font color="#5a5a5a">; the time in days that individuals will be infectious and can transmit the virus to mosquitoes</font><font color="#000000"><br />]<br /><br /></font><font color="#007f69">other-hosts-own</font><font color="#000000"><br />[<br />  other-host-type          </font><font color="#5a5a5a">; if the individual is dead-end or alternative host</font><font color="#000000"><br />  lifespan                 </font><font color="#5a5a5a">; how many days each induavidual will live</font><font color="#000000"><br />  lifetime                 </font><font color="#5a5a5a">; how many days each induavidual has lived</font><font color="#000000"><br />  susceptible?             </font><font color="#5a5a5a">; if true, the other-host is susceptible.</font><font color="#000000"><br />  exposed?                 </font><font color="#5a5a5a">; if true, the other-host is infected but in latent period</font><font color="#000000"><br />  infectious?              </font><font color="#5a5a5a">; if true, the other-host is infected and infectious, as long as it is not a dead-end host.</font><font color="#000000"><br />  immune?                  </font><font color="#5a5a5a">; if true, the other-host is immune</font><font color="#000000"><br />  latent-period            </font><font color="#5a5a5a">; the latent period of the virus</font><font color="#000000"><br />  viremic-period           </font><font color="#5a5a5a">; the time in days that individuals will be infectious and can transmit the virus to mosquitoes</font><font color="#000000"><br />]<br /><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#5a5a5a">;SETUP PROCEDURES</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> setup<br />  </font><font color="#0000aa">clear-all</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> seed?                                                           </font><font color="#5a5a5a">; if on, a seed can be chosen</font><font color="#000000"><br />  [<br />   </font><font color="#0000aa">random-seed</font><font color="#000000"> my-seed<br />  ]<br />  create-forest-and-breeding-sites<br />  insert-mosquitoes<br />  insert-monkeys<br />  insert-other-hosts<br />  larval-density-parameters<br />  </font><font color="#0000aa">set</font><font color="#000000"> number-of-days </font><font color="#963700">0</font><font color="#000000"><br /><br />  </font><font color="#0000aa">set</font><font color="#000000"> k-min (initial-number-of-mosquitoes </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">6</font><font color="#000000">)                        </font><font color="#5a5a5a">;minimum value of current-K  (six time lower than the maximum value)</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> alpha (initial-number-of-mosquitoes </font><font color="#660096">+</font><font color="#000000"> k-min) </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> beta (</font><font color="#660096">-</font><font color="#000000">(initial-number-of-mosquitoes </font><font color="#660096">-</font><font color="#000000"> k-min) </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">1825</font><font color="#000000">)<br />  </font><font color="#0000aa">set</font><font color="#000000"> gamma (alpha </font><font color="#660096">-</font><font color="#000000"> initial-number-of-mosquitoes)<br /><br />  </font><font color="#0000aa">set</font><font color="#000000"> mosquito-transmission-competence mosquito-trans-competence<br />  </font><font color="#0000aa">set</font><font color="#000000"> monkey-transmission-competence monkey-trans-competence<br />  </font><font color="#0000aa">set</font><font color="#000000"> alternative-host-transmission-competence alt-host-trans-competence<br />  </font><font color="#0000aa">set</font><font color="#000000"> biting-success </font><font color="#963700">0.5</font><font color="#000000">                                             </font><font color="#5a5a5a">; the probability of a blood-seeking mosquito have success (bite the host) during an interaction with a vertebrate host</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> hourly-mosquito-infection-rate []                              </font><font color="#5a5a5a">; the list that stores the proportion of infected mosquitoes in each time step (after virus introduction)</font><font color="#000000"><br /><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> [assign-color]<br />  </font><font color="#0000aa">reset-ticks</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> create-forest-and-breeding-sites<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"><br />  [<br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> patch-type </font><font color="#963700">&quot;forest&quot;</font><font color="#000000"><br />  ]<br /><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">n-of</font><font color="#000000"> (initial-number-of-mosquitoes </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">12</font><font color="#000000">) </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [patch-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;forest&quot;</font><font color="#000000">]  </font><font color="#5a5a5a">; the number of breeding sites is proportional to initial number of mosquitoes (1:12)</font><font color="#000000"><br />  [<br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">black</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> patch-type </font><font color="#963700">&quot;breeding site&quot;</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> larval-development-time []                       </font><font color="#5a5a5a">; the list that stores the time of development of each larval individual in the breeding site patch</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> larval-viral-status []                           </font><font color="#5a5a5a">; the list that stores information on whether the larval individual originated from an infectious mosquito.</font><font color="#000000"><br />  ]<br /><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">n-of</font><font color="#000000"> (initial-number-of-mosquitoes </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">24</font><font color="#000000">) </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [patch-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;breeding site&quot;</font><font color="#000000">] </font><font color="#5a5a5a">; inital input - half of breeding site patches start with immature forms</font><font color="#000000"><br />  [<br />    </font><font color="#0000aa">let</font><font color="#000000"> init.num.larval </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">50</font><font color="#000000"><br />    </font><font color="#0000aa">while</font><font color="#000000"> [</font><font color="#660096">length</font><font color="#000000"> larval-development-time </font><font color="#660096">&lt;</font><font color="#000000"> init.num.larval] [</font><font color="#0000aa">set</font><font color="#000000"> larval-development-time </font><font color="#660096">fput</font><font color="#000000"> (</font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">150</font><font color="#000000">) larval-development-time]<br />    </font><font color="#0000aa">while</font><font color="#000000"> [</font><font color="#660096">length</font><font color="#000000"> larval-viral-status </font><font color="#660096">&lt;</font><font color="#000000"> init.num.larval] [</font><font color="#0000aa">set</font><font color="#000000"> larval-viral-status </font><font color="#660096">fput</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> larval-viral-status]<br />    </font><font color="#0000aa">set</font><font color="#000000"> my-larval-number </font><font color="#660096">length</font><font color="#000000"> larval-development-time<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> insert-mosquitoes<br />  create-mosquitoes initial-number-of-mosquitoes<br />  [<br />   </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;circle&quot;</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />   </font><font color="#0000aa">move-to</font><font color="#000000"> </font><font color="#660096">one-of</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [ patch-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;forest&quot;</font><font color="#000000"> ]<br />   </font><font color="#0000aa">set</font><font color="#000000"> blood-seeking? </font><font color="#963700">true</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> engorged? </font><font color="#963700">false</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> gravid? </font><font color="#963700">false</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> newly-emerged? </font><font color="#963700">false</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> blood-meals </font><font color="#963700">0</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> oviposition-number </font><font color="#963700">0</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> blood-meal-level </font><font color="#963700">0</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> time-to-blood-digestion </font><font color="#963700">-1</font><font color="#000000"><br /><br />   </font><font color="#0000aa">set</font><font color="#000000"> susceptible? </font><font color="#963700">true</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> exposed? </font><font color="#963700">false</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> infectious? </font><font color="#963700">false</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> initiators? </font><font color="#963700">false</font><font color="#000000"><br />  ]<br /><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">n-of</font><font color="#000000"> (initial-number-of-mosquitoes </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">0.05</font><font color="#000000">) mosquitoes </font><font color="#660096">with</font><font color="#000000"> [blood-seeking?] </font><font color="#5a5a5a">; initial Input - 5% gravid mosquitoes</font><font color="#000000"><br />  [<br />   </font><font color="#0000aa">set</font><font color="#000000"> blood-seeking? </font><font color="#963700">false</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> gravid? </font><font color="#963700">true</font><font color="#000000"><br />  ]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">n-of</font><font color="#000000"> (initial-number-of-mosquitoes </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">0.1</font><font color="#000000">) mosquitoes </font><font color="#660096">with</font><font color="#000000"> [blood-seeking?] </font><font color="#5a5a5a">; initial Input - 10% newly-emerged mosquitoes</font><font color="#000000"><br />  [<br />   </font><font color="#0000aa">move-to</font><font color="#000000"> </font><font color="#660096">one-of</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [patch-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;breeding site&quot;</font><font color="#000000">]<br />   </font><font color="#0000aa">set</font><font color="#000000"> blood-seeking? </font><font color="#963700">false</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> newly-emerged? </font><font color="#963700">true</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> time-since-emergence </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">11</font><font color="#000000"><br />  ]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">n-of</font><font color="#000000"> (initial-number-of-mosquitoes </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">0.4</font><font color="#000000">) mosquitoes </font><font color="#660096">with</font><font color="#000000"> [blood-seeking?] </font><font color="#5a5a5a">; initial Input - 40% blood-fed mosquitoes</font><font color="#000000"><br />  [<br />   </font><font color="#0000aa">set</font><font color="#000000"> blood-seeking? </font><font color="#963700">false</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> engorged? </font><font color="#963700">true</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> time-to-blood-digestion </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">51</font><font color="#000000"><br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> insert-monkeys<br />  </font><font color="#0000aa">set</font><font color="#000000"> monkey-group-size </font><font color="#963700">6</font><font color="#000000">                                  </font><font color="#5a5a5a">; the size of the groups</font><font color="#000000"><br />  create-monkeys </font><font color="#963700">1</font><font color="#000000">                                         </font><font color="#5a5a5a">; create and alocate monkeys in different patches of the grid</font><font color="#000000"><br />  create-monkeys </font><font color="#963700">1</font><font color="#000000"> [</font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">min-pxcor</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"> </font><font color="#660096">max-pycor</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">]<br />  create-monkeys </font><font color="#963700">1</font><font color="#000000"> [</font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">min-pxcor</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"> </font><font color="#660096">min-pycor</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">]<br />  create-monkeys </font><font color="#963700">1</font><font color="#000000"> [</font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">max-pxcor</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"> </font><font color="#660096">max-pycor</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">]<br />  create-monkeys </font><font color="#963700">1</font><font color="#000000"> [</font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">max-pxcor</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"> </font><font color="#660096">min-pycor</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">]<br /><br />  </font><font color="#0000aa">ask</font><font color="#000000"> monkeys<br />  [<br />   </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> my-group-ID </font><font color="#660096">who</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> my-territory </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">in-radius</font><font color="#000000"> </font><font color="#963700">18</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [patch-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;forest&quot;</font><font color="#000000"> </font><font color="#660096">or</font><font color="#000000"> patch-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;breeding site&quot;</font><font color="#000000">]<br />   </font><font color="#0000aa">set</font><font color="#000000"> my-status </font><font color="#963700">&quot;alpha&quot;</font><font color="#000000"><br />   </font><font color="#5a5a5a">;ask monkeys with [my-status = &quot;alpha&quot;] [ask my-territory [set pcolor gray]]</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> susceptible? </font><font color="#963700">true</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> exposed? </font><font color="#963700">false</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> infectious? </font><font color="#963700">false</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> immune? </font><font color="#963700">false</font><font color="#000000"><br />  ]<br /><br />  </font><font color="#0000aa">ask</font><font color="#000000"> monkeys                                           </font><font color="#5a5a5a">; the alpha monkey creates the other monkeys of the group (subordinates)</font><font color="#000000"><br />  [<br />    </font><font color="#0000aa">hatch</font><font color="#000000"> monkey-group-size </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />    [<br />      </font><font color="#0000aa">rt</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"><br />      </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> my-status </font><font color="#963700">&quot;subordinate&quot;</font><font color="#000000"><br />    ]<br />  ]<br />   </font><font color="#0000aa">set</font><font color="#000000"> monkey-population </font><font color="#660096">count</font><font color="#000000"> monkeys<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> insert-other-hosts<br />  create-other-hosts number-of-dead-end-hosts </font><font color="#660096">+</font><font color="#000000"> number-of-alternative-hosts<br />  [<br />   </font><font color="#0000aa">ask</font><font color="#000000"> other-hosts [</font><font color="#0000aa">set</font><font color="#000000"> other-host-type </font><font color="#963700">&quot;Dead-end&quot;</font><font color="#000000">]<br />   </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">n-of</font><font color="#000000"> number-of-alternative-hosts other-hosts [</font><font color="#0000aa">set</font><font color="#000000"> other-host-type </font><font color="#963700">&quot;Alternative&quot;</font><font color="#000000">]  </font><font color="#5a5a5a">; some individuals will act as alternative hosts</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;square&quot;</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"><br />   </font><font color="#0000aa">move-to</font><font color="#000000"> </font><font color="#660096">one-of</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [ patch-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;forest&quot;</font><font color="#000000"> ]<br />   </font><font color="#0000aa">set</font><font color="#000000"> lifespan </font><font color="#660096">random</font><font color="#000000"> other-hosts-mean-lifespan  </font><font color="#5a5a5a">;; initial input for other-hosts lifespan</font><font color="#000000"><br />     </font><font color="#5a5a5a">;;related to YFV transmission</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> susceptible? </font><font color="#963700">false</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> exposed? </font><font color="#963700">false</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> infectious? </font><font color="#963700">false</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> immune? </font><font color="#963700">true</font><font color="#000000"><br />  ]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> other-hosts </font><font color="#660096">with</font><font color="#000000"> [other-host-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;Alternative&quot;</font><font color="#000000">]<br />    [<br />      </font><font color="#0000aa">set</font><font color="#000000"> susceptible? </font><font color="#963700">true</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> immune? </font><font color="#963700">false</font><font color="#000000"><br />    ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> larval-density-parameters<br />   </font><font color="#0000aa">let</font><font color="#000000"> sv1 </font><font color="#963700">0.99</font><font color="#000000">                    </font><font color="#5a5a5a">; probability of 0.99</font><font color="#000000"><br />   </font><font color="#0000aa">let</font><font color="#000000"> sv2 </font><font color="#963700">0.5</font><font color="#000000">                     </font><font color="#5a5a5a">; probability of 0.5</font><font color="#000000"><br />   </font><font color="#0000aa">let</font><font color="#000000"> lv1 </font><font color="#963700">15</font><font color="#000000">                      </font><font color="#5a5a5a">; maximum number of larval density in a single breeding-site patch in which the survival probability of the progeny is over 99%</font><font color="#000000"><br />   </font><font color="#0000aa">let</font><font color="#000000"> lv2 </font><font color="#963700">90</font><font color="#000000">                      </font><font color="#5a5a5a">; number of larval density in a single breeding-site patch in which the survival probability of the progeny is 50%</font><font color="#000000"><br />   </font><font color="#0000aa">let</font><font color="#000000"> D </font><font color="#660096">ln</font><font color="#000000"> (sv1 </font><font color="#660096">/</font><font color="#000000"> (</font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> sv1))<br />   </font><font color="#0000aa">let</font><font color="#000000"> C </font><font color="#660096">ln</font><font color="#000000"> (sv2 </font><font color="#660096">/</font><font color="#000000"> (</font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> sv2))<br />   </font><font color="#0000aa">set</font><font color="#000000"> B (D </font><font color="#660096">-</font><font color="#000000"> C) </font><font color="#660096">/</font><font color="#000000"> (lv1 </font><font color="#660096">-</font><font color="#000000"> lv2)     </font><font color="#5a5a5a">; the β1 of the logistic model that controls larval density</font><font color="#000000"><br />   </font><font color="#0000aa">set</font><font color="#000000"> A D </font><font color="#660096">-</font><font color="#000000"> B </font><font color="#660096">*</font><font color="#000000"> lv1               </font><font color="#5a5a5a">; the β0 of the logistic model that controls larval density</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> assign-color                     </font><font color="#5a5a5a">; the colors for represent the virus circulation and individual status</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> susceptible? [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">white</font><font color="#000000"> ]<br />    </font><font color="#0000aa">if</font><font color="#000000"> exposed? [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000"> ]<br />    </font><font color="#0000aa">if</font><font color="#000000"> infectious? [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">yellow</font><font color="#000000"> ]<br />    </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> monkeys </font><font color="#660096">or</font><font color="#000000"> </font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> other-hosts </font><font color="#660096">and</font><font color="#000000"> immune? [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">blue</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#5a5a5a">;GO PROCEDURES</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> go<br />  </font><font color="#0000aa">tick</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> number-of-days (</font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000">)                                             </font><font color="#5a5a5a">;update the number of days (1 day = 10 time steps)</font><font color="#000000"><br /><br />  larval-development                                                          </font><font color="#5a5a5a">;update the time elapsed since oviposition and count the number of oviposition events in the patch</font><font color="#000000"><br />  check-larval-density                                                        </font><font color="#5a5a5a">;check and control larval density at the patch</font><font color="#000000"><br />  check-newly-adults                                                          </font><font color="#5a5a5a">;check the newly emerged mosquitoes and update time-since-emergence</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> vertebrate-hosts </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> monkeys </font><font color="#660096">or</font><font color="#000000"> </font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> other-hosts]  </font><font color="#5a5a5a">;update the agentset 'vertebrate-hosts'</font><font color="#000000"><br /><br />  move-monkeys                                                                </font><font color="#5a5a5a">;update alpha status for groups and move monkeys in the grid</font><font color="#000000"><br />  move-other-hosts                                                            </font><font color="#5a5a5a">;move other-hosts in the grid</font><font color="#000000"><br />  digest-host-blood                                                           </font><font color="#5a5a5a">;move blood-fed mosquitoes and update their status</font><font color="#000000"><br />  seek-host                                                                   </font><font color="#5a5a5a">;detect target hosts and move blood-seeking mosquitoes</font><font color="#000000"><br />  looking-for-breeding-sites                                                  </font><font color="#5a5a5a">;detect breeding site patches, move gravid mosquitoes, and lay eggs</font><font color="#000000"><br /><br />  vector-host-interaction                                                     </font><font color="#5a5a5a">;procedure for blood meal and YFV transmission</font><font color="#000000"><br /><br />  extrinsic-incubation-period                                                 </font><font color="#5a5a5a">;update virus incubation time and YFV status of exposed mosquitoes</font><font color="#000000"><br />  become-viremic                                                              </font><font color="#5a5a5a">;update latent-period and YFV status of exposed monkeys and other-hosts</font><font color="#000000"><br />  recovery-or-die                                                             </font><font color="#5a5a5a">;update viremic period and YFV status of infectious monkeys and other-hosts; check and eliminate infected monkeys from the simulation</font><font color="#000000"><br />  Check-and-eliminate-mosquito                                                </font><font color="#5a5a5a">;check and eliminate mosquitoes from the simulation</font><font color="#000000"><br />  mosquito-adult-emergence                                                    </font><font color="#5a5a5a">;(patches) check larval development time and curret-K and sprout newly adult mosquitoes; check larval-viral-status and update YFV status for the newly emerged mosquitoes</font><font color="#000000"><br />  check-other-hosts-lifespan                                                  </font><font color="#5a5a5a">;update lifetime,check lifespan, eliminate other-hosts from the simulation; hatch new individuals</font><font color="#000000"><br />  insert-initial-infected-mosquitoes                                          </font><font color="#5a5a5a">;at the chosen time step, change randomly selected mosquitoes to infectious status and start YFV transmission</font><font color="#000000"><br /><br />    </font><font color="#5a5a5a">;;after YFV emergence the list start to store data on the proportion of infected mosquitoes in the population</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">&gt;=</font><font color="#000000"> start-YFV-circulation [</font><font color="#0000aa">set</font><font color="#000000"> hourly-mosquito-infection-rate </font><font color="#660096">fput</font><font color="#000000"> mosquito-infection-rate hourly-mosquito-infection-rate]<br /><br />    </font><font color="#5a5a5a">;;stop conditions</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">&gt;</font><font color="#000000"> start-YFV-circulation </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> </font><font color="#660096">any?</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [infectious? </font><font color="#660096">or</font><font color="#000000"> exposed?] </font><font color="#660096">and</font><font color="#000000"> possible-vertical-transmission-events </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> [</font><font color="#0000aa">stop</font><font color="#000000">]<br />  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">21900</font><font color="#000000"> [</font><font color="#0000aa">stop</font><font color="#000000">]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /><br /></font><font color="#007f69">to-report</font><font color="#000000"> current-K                                                    </font><font color="#5a5a5a">;updating the parameter current-K to controlling the abundance of adult mosquitoes</font><font color="#000000"><br />  </font><font color="#0000aa">let</font><font color="#000000"> time </font><font color="#963700">0.5</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> (</font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">3650</font><font color="#000000">)<br />  </font><font color="#0000aa">let</font><font color="#000000"> cur-k  (alpha </font><font color="#660096">+</font><font color="#000000"> beta </font><font color="#660096">*</font><font color="#000000"> </font><font color="#660096">sin</font><font color="#000000"> (</font><font color="#963700">2</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">pi</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> time </font><font color="#660096">*</font><font color="#000000"> (</font><font color="#963700">180</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">pi</font><font color="#000000">)) </font><font color="#660096">+</font><font color="#000000"> gamma </font><font color="#660096">*</font><font color="#000000"> </font><font color="#660096">cos</font><font color="#000000"> (</font><font color="#963700">2</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">pi</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> time </font><font color="#660096">*</font><font color="#000000"> (</font><font color="#963700">180</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">pi</font><font color="#000000">)))  </font><font color="#5a5a5a">;it simulates seasonal changes of the environment</font><font color="#000000"><br />  </font><font color="#0000aa">report</font><font color="#000000"> cur-k<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br />   </font><font color="#5a5a5a">;;updating larval development time and controling larval density</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> larval-development<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [patch-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;breeding site&quot;</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> </font><font color="#660096">empty?</font><font color="#000000"> larval-development-time]<br />  [<br />   </font><font color="#0000aa">let</font><font color="#000000"> new-values </font><font color="#660096">map</font><font color="#000000"> [x -&gt; x </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> ] larval-development-time<br />   </font><font color="#0000aa">set</font><font color="#000000"> larval-development-time new-values<br />   </font><font color="#0000aa">set</font><font color="#000000"> my-larval-number </font><font color="#660096">length</font><font color="#000000"> larval-development-time<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> check-larval-density<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [patch-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;breeding site&quot;</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> </font><font color="#660096">empty?</font><font color="#000000"> larval-development-time]<br />  [<br />   </font><font color="#0000aa">let</font><font color="#000000"> Z </font><font color="#660096">exp</font><font color="#000000"> (A </font><font color="#660096">+</font><font color="#000000"> (B </font><font color="#660096">*</font><font color="#000000"> </font><font color="#660096">length</font><font color="#000000"> larval-development-time))   </font><font color="#5a5a5a">; the odds of the logistic model</font><font color="#000000"><br />   </font><font color="#0000aa">let</font><font color="#000000"> P (Z </font><font color="#660096">/</font><font color="#000000"> (</font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> Z))                                    </font><font color="#5a5a5a">; the probability of success for a larval individual to reach the winged stage</font><font color="#000000"><br />      </font><font color="#5a5a5a">;;a random number between 0 and 1 is generated, if greater than P</font><font color="#000000"><br />      </font><font color="#5a5a5a">;;the breeding site patch randomly select a larval to be eliminated</font><font color="#000000"><br />    </font><font color="#0000aa">while</font><font color="#000000"> [</font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">&gt;</font><font color="#000000"> P </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> </font><font color="#660096">empty?</font><font color="#000000"> larval-development-time]<br />    [<br />      </font><font color="#0000aa">let</font><font color="#000000"> my-choice </font><font color="#660096">random</font><font color="#000000"> </font><font color="#660096">length</font><font color="#000000"> larval-development-time<br />      </font><font color="#0000aa">set</font><font color="#000000"> larval-development-time </font><font color="#660096">remove-item</font><font color="#000000"> my-choice larval-development-time<br />      </font><font color="#0000aa">set</font><font color="#000000"> larval-viral-status </font><font color="#660096">remove-item</font><font color="#000000"> my-choice larval-viral-status<br />      </font><font color="#0000aa">set</font><font color="#000000"> Z </font><font color="#660096">exp</font><font color="#000000"> (A </font><font color="#660096">+</font><font color="#000000"> (B </font><font color="#660096">*</font><font color="#000000"> </font><font color="#660096">length</font><font color="#000000"> larval-development-time))<br />      </font><font color="#0000aa">set</font><font color="#000000"> P (Z </font><font color="#660096">/</font><font color="#000000"> (</font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> Z))<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br />   </font><font color="#5a5a5a">;; It was assumed that it takes a day to harden the exoskeleton and for the mating of the newly emerged mosquito</font><font color="#000000"><br />   </font><font color="#5a5a5a">;; After this period the mosquito can fly and search for blood-sources</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> check-newly-adults<br />  </font><font color="#0000aa">ask</font><font color="#000000"> mosquitoes </font><font color="#660096">with</font><font color="#000000"> [newly-emerged?]<br />  [<br />   </font><font color="#0000aa">set</font><font color="#000000"> time-since-emergence time-since-emergence </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />   </font><font color="#0000aa">if</font><font color="#000000">  time-since-emergence </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000"><br />   [<br />     </font><font color="#0000aa">set</font><font color="#000000"> newly-emerged? </font><font color="#963700">false</font><font color="#000000"><br />     </font><font color="#0000aa">set</font><font color="#000000"> blood-seeking? </font><font color="#963700">true</font><font color="#000000"><br />   ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> move-monkeys<br />    </font><font color="#5a5a5a">;; if there is no alpha individual in the group, a new individual among the subordinates will become the alpha</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> monkeys<br />  [<br />    </font><font color="#0000aa">let</font><font color="#000000"> my-group my-group-ID<br />    </font><font color="#0000aa">let</font><font color="#000000"> monkeys-from-my-group monkeys </font><font color="#660096">with</font><font color="#000000"> [my-group-ID </font><font color="#660096">=</font><font color="#000000"> my-group]<br />    </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> </font><font color="#660096">any?</font><font color="#000000"> monkeys-from-my-group </font><font color="#660096">with</font><font color="#000000"> [my-status </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;alpha&quot;</font><font color="#000000">]<br />   [<br />     </font><font color="#0000aa">set</font><font color="#000000"> my-status </font><font color="#963700">&quot;alpha&quot;</font><font color="#000000"><br />   ]<br />  ]<br />   </font><font color="#5a5a5a">;;If the individual is outside the boundaries of its territory, it returns to the nearest patch belonging to its territory.</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> monkeys<br />    [<br />     </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">patch-here</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> my-territory<br />      [<br />       </font><font color="#0000aa">let</font><font color="#000000"> return-my-territory </font><font color="#660096">min-one-of</font><font color="#000000"> my-territory [</font><font color="#660096">distance</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000">]<br />       </font><font color="#0000aa">move-to</font><font color="#000000"> return-my-territory<br />      ]<br />    ]<br />    </font><font color="#5a5a5a">;;moving alpha and subordinate individuals</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> monkeys </font><font color="#660096">with</font><font color="#000000"> [my-status </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;alpha&quot;</font><font color="#000000">]<br />  [<br />   </font><font color="#0000aa">rt</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"><br />   </font><font color="#0000aa">let</font><font color="#000000"> forward-now </font><font color="#963700">0</font><font color="#000000"><br />   </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">0.2</font><font color="#000000"> [</font><font color="#0000aa">set</font><font color="#000000"> forward-now </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000">] [</font><font color="#0000aa">set</font><font color="#000000"> forward-now forward-now]  </font><font color="#5a5a5a">;the group will move on average 20% of the time</font><font color="#000000"><br />   </font><font color="#0000aa">forward</font><font color="#000000"> forward-now<br />   </font><font color="#0000aa">let</font><font color="#000000"> my-group my-group-ID<br />   </font><font color="#0000aa">ask</font><font color="#000000"> monkeys </font><font color="#660096">with</font><font color="#000000"> [my-group-ID </font><font color="#660096">=</font><font color="#000000"> my-group]<br />    [<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> [</font><font color="#660096">heading</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">one-of</font><font color="#000000"> [</font><font color="#963700">10</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#963700">-10</font><font color="#000000">]         </font><font color="#5a5a5a">;the heading of subordinate individuals can vary 10 degrees in relation to alpha individual</font><font color="#000000"><br />      </font><font color="#0000aa">forward</font><font color="#000000"> forward-now </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">one-of</font><font color="#000000"> [</font><font color="#963700">1</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#963700">-1</font><font color="#000000">]                       </font><font color="#5a5a5a">;the movement of subordinate individuals can vary one patch in relation to alpha individual</font><font color="#000000"><br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> move-other-hosts<br />   </font><font color="#0000aa">ask</font><font color="#000000"> other-hosts<br />  [<br />   </font><font color="#0000aa">rt</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"><br />   </font><font color="#0000aa">forward</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">5</font><font color="#000000"><br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> digest-host-blood<br />  </font><font color="#0000aa">ask</font><font color="#000000"> mosquitoes </font><font color="#660096">with</font><font color="#000000"> [engorged?]<br />  [<br />   </font><font color="#0000aa">ifelse</font><font color="#000000"> time-to-blood-digestion </font><font color="#660096">&lt;=</font><font color="#000000"> </font><font color="#963700">50</font><font color="#000000">                       </font><font color="#5a5a5a">;five days for eggs maturation (50 time steps)</font><font color="#000000"><br />    [<br />     </font><font color="#0000aa">rt</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"><br />     </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> blood-seeking? [</font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#660096">one-of</font><font color="#000000"> [</font><font color="#963700">0</font><font color="#000000"> </font><font color="#963700">0.5</font><font color="#000000">]]   </font><font color="#5a5a5a">;engorged mosquitoes move less than non-engorged</font><font color="#000000"><br />     </font><font color="#0000aa">set</font><font color="#000000"> time-to-blood-digestion time-to-blood-digestion </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />     ]<br /><br />     </font><font color="#5a5a5a">;;when time-to-blood-digestion &gt; 50</font><font color="#000000"><br />    [<br />     </font><font color="#0000aa">set</font><font color="#000000"> engorged? </font><font color="#963700">false</font><font color="#000000"><br />     </font><font color="#0000aa">set</font><font color="#000000"> blood-seeking? </font><font color="#963700">false</font><font color="#000000"><br />     </font><font color="#0000aa">set</font><font color="#000000"> gravid? </font><font color="#963700">true</font><font color="#000000"><br />     </font><font color="#0000aa">set</font><font color="#000000"> time-to-blood-digestion </font><font color="#963700">-1</font><font color="#000000"><br />     </font><font color="#0000aa">set</font><font color="#000000"> blood-meal-level </font><font color="#963700">0</font><font color="#000000">                                   </font><font color="#5a5a5a">;in case of being greater than 0 and less than 0.5</font><font color="#000000"><br />    ]<br />   ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> seek-host<br />  </font><font color="#0000aa">ask</font><font color="#000000"> mosquitoes </font><font color="#660096">with</font><font color="#000000"> [blood-seeking?]<br />  [<br />   </font><font color="#0000aa">let</font><font color="#000000"> target-hosts vertebrate-hosts </font><font color="#660096">in-radius</font><font color="#000000"> mosquito-detection-radius  </font><font color="#5a5a5a">;detecting the potential blood meal source</font><font color="#000000"><br />      </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">any?</font><font color="#000000"> target-hosts<br />       [<br />        </font><font color="#0000aa">let</font><font color="#000000"> my-target-host </font><font color="#660096">one-of</font><font color="#000000"> target-hosts<br />        </font><font color="#0000aa">face</font><font color="#000000"> my-target-host<br />        </font><font color="#0000aa">let</font><font color="#000000"> dist-my-target [</font><font color="#660096">distance</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> my-target-host<br />        </font><font color="#0000aa">forward</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> dist-my-target<br />       ]<br />       [                                          </font><font color="#5a5a5a">;if not detected, the mosquito keeps moving and looking for blood sources</font><font color="#000000"><br />        </font><font color="#0000aa">rt</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"><br />        </font><font color="#0000aa">forward</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />       ]<br />      ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> looking-for-breeding-sites<br />  </font><font color="#0000aa">ask</font><font color="#000000"> mosquitoes </font><font color="#660096">with</font><font color="#000000"> [gravid?]<br />  [<br />    </font><font color="#0000aa">ifelse</font><font color="#000000"> patch-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;breeding site&quot;</font><font color="#000000">    </font><font color="#5a5a5a">;if a gravid mosquito is on a breeding site patch the eggs will be laid</font><font color="#000000"><br />    [<br />      lay-eggs<br />    ]<br />    [<br />     </font><font color="#0000aa">let</font><font color="#000000"> target-patch </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">in-radius</font><font color="#000000"> mosquito-detection-radius </font><font color="#660096">with</font><font color="#000000"> [patch-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;breeding site&quot;</font><font color="#000000">] </font><font color="#5a5a5a">;detecting the breeding site patches</font><font color="#000000"><br />     </font><font color="#0000aa">let</font><font color="#000000"> my-breeding </font><font color="#660096">min-one-of</font><font color="#000000"> target-patch [</font><font color="#660096">distance</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000">]                                        </font><font color="#5a5a5a">;selecting the nearest target breeding site patch</font><font color="#000000"><br />     </font><font color="#0000aa">ifelse</font><font color="#000000"> my-breeding </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">nobody</font><font color="#000000">                                  </font><font color="#5a5a5a">;if a breeding site patch is detected and chosen, move to there</font><font color="#000000"><br />      [<br />       </font><font color="#0000aa">move-to</font><font color="#000000"> my-breeding<br />      ]<br />      [                                                            </font><font color="#5a5a5a">;if not detected, the mosquito keeps moving and looking for breeding sites</font><font color="#000000"><br />       </font><font color="#0000aa">rt</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"><br />       </font><font color="#0000aa">forward</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />      ]<br />     ]<br />   ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> lay-eggs<br />  </font><font color="#0000aa">set</font><font color="#000000"> gravid? </font><font color="#963700">false</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> blood-seeking? </font><font color="#963700">true</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> oviposition-number oviposition-number </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />    </font><font color="#5a5a5a">;;including the information about the new oviposition event in the lists of the patch</font><font color="#000000"><br />    </font><font color="#5a5a5a">;;if the mosquito that laid eggs is in the infectious state, the value 1 will be put in the larval-viral-status list, otherwise, the value 0 will be put</font><font color="#000000"><br />  </font><font color="#0000aa">ifelse</font><font color="#000000"> infectious?<br />  [<br />   </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patch-here</font><font color="#000000"><br />   [<br />      </font><font color="#0000aa">let</font><font color="#000000"> number-of-eggs </font><font color="#660096">random-poisson</font><font color="#000000"> </font><font color="#963700">15</font><font color="#000000">                         </font><font color="#5a5a5a">;It was assumed that a gravid female lay an average of 30 eggs, from which half are female</font><font color="#000000"><br />      </font><font color="#0000aa">let</font><font color="#000000"> next-larval-number </font><font color="#660096">length</font><font color="#000000"> larval-development-time </font><font color="#660096">+</font><font color="#000000"> number-of-eggs<br />      </font><font color="#0000aa">while</font><font color="#000000"> [</font><font color="#660096">length</font><font color="#000000"> larval-development-time </font><font color="#660096">&lt;</font><font color="#000000"> next-larval-number] [</font><font color="#0000aa">set</font><font color="#000000"> larval-development-time </font><font color="#660096">fput</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> larval-development-time]<br />      </font><font color="#0000aa">while</font><font color="#000000"> [</font><font color="#660096">length</font><font color="#000000"> larval-viral-status </font><font color="#660096">&lt;</font><font color="#000000"> next-larval-number] [</font><font color="#0000aa">set</font><font color="#000000"> larval-viral-status </font><font color="#660096">fput</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> larval-viral-status]<br />      </font><font color="#0000aa">set</font><font color="#000000"> num-potential-infec-mosquitoes </font><font color="#660096">sum</font><font color="#000000"> larval-viral-status<br />   ]<br />  ]<br />  [<br />   </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patch-here</font><font color="#000000"><br />   [<br />      </font><font color="#0000aa">let</font><font color="#000000"> number-of-eggs </font><font color="#660096">random-poisson</font><font color="#000000"> </font><font color="#963700">15</font><font color="#000000"><br />      </font><font color="#0000aa">let</font><font color="#000000"> next-larval-number </font><font color="#660096">length</font><font color="#000000"> larval-development-time </font><font color="#660096">+</font><font color="#000000"> number-of-eggs<br />      </font><font color="#0000aa">while</font><font color="#000000"> [</font><font color="#660096">length</font><font color="#000000"> larval-development-time </font><font color="#660096">&lt;</font><font color="#000000"> next-larval-number] [</font><font color="#0000aa">set</font><font color="#000000"> larval-development-time </font><font color="#660096">fput</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> larval-development-time]<br />      </font><font color="#0000aa">while</font><font color="#000000"> [</font><font color="#660096">length</font><font color="#000000"> larval-viral-status </font><font color="#660096">&lt;</font><font color="#000000"> next-larval-number] [</font><font color="#0000aa">set</font><font color="#000000"> larval-viral-status </font><font color="#660096">fput</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> larval-viral-status]<br />      </font><font color="#0000aa">set</font><font color="#000000"> num-potential-infec-mosquitoes </font><font color="#660096">sum</font><font color="#000000"> larval-viral-status<br />   ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> vector-host-interaction<br />  </font><font color="#0000aa">ask</font><font color="#000000"> mosquitoes </font><font color="#660096">with</font><font color="#000000"> [blood-seeking? </font><font color="#660096">and</font><font color="#000000"> susceptible?]<br />  [<br />    </font><font color="#0000aa">let</font><font color="#000000"> my-blood-source </font><font color="#660096">one-of</font><font color="#000000"> vertebrate-hosts </font><font color="#660096">in-radius</font><font color="#000000"> </font><font color="#963700">0.5</font><font color="#000000">              </font><font color="#5a5a5a">;if two or more blood sources, choose one of them</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> my-blood-source </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">nobody</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> biting-success       </font><font color="#5a5a5a">;the interaction between the mosquito and the blood source also depends on the biting success</font><font color="#000000"><br />      [<br />        </font><font color="#0000aa">set</font><font color="#000000"> engorged? </font><font color="#963700">true</font><font color="#000000"><br />        </font><font color="#0000aa">if</font><font color="#000000"> time-to-blood-digestion </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">-1</font><font color="#000000"> [</font><font color="#0000aa">set</font><font color="#000000"> time-to-blood-digestion </font><font color="#963700">0</font><font color="#000000">]    </font><font color="#5a5a5a">;start counting the time of blood digestion</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> blood-meals blood-meals </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />        </font><font color="#0000aa">let</font><font color="#000000"> blood-sucked </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> blood-meal-level blood-meal-level </font><font color="#660096">+</font><font color="#000000"> blood-sucked                          </font><font color="#5a5a5a">;update blood meal level</font><font color="#000000"><br />        </font><font color="#0000aa">if</font><font color="#000000"> blood-meal-level </font><font color="#660096">&gt;=</font><font color="#000000"> </font><font color="#963700">0.5</font><font color="#000000"> [</font><font color="#0000aa">set</font><font color="#000000"> blood-seeking? </font><font color="#963700">false</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> blood-meal-level </font><font color="#963700">0</font><font color="#000000">]  </font><font color="#5a5a5a">;if blood meal level is equal or higher than 0.5, change blood-seeking status to false</font><font color="#000000"><br /><br />        </font><font color="#0000aa">if</font><font color="#000000"> [</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> monkeys </font><font color="#660096">and</font><font color="#000000"> infectious?] </font><font color="#660096">of</font><font color="#000000"> my-blood-source </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> monkey-transmission-competence </font><font color="#5a5a5a">;;the YFV transmission depends on the transmission competence</font><font color="#000000"><br />         [<br />          </font><font color="#0000aa">set</font><font color="#000000"> susceptible? </font><font color="#963700">false</font><font color="#000000"><br />          </font><font color="#0000aa">set</font><font color="#000000"> exposed? </font><font color="#963700">true</font><font color="#000000"><br />          assign-color<br />         ]<br /><br />        </font><font color="#0000aa">if</font><font color="#000000"> [</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> other-hosts </font><font color="#660096">and</font><font color="#000000"> infectious?] </font><font color="#660096">of</font><font color="#000000"> my-blood-source </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> alternative-host-transmission-competence<br />         [<br />          </font><font color="#0000aa">set</font><font color="#000000"> susceptible? </font><font color="#963700">false</font><font color="#000000"><br />          </font><font color="#0000aa">set</font><font color="#000000"> exposed? </font><font color="#963700">true</font><font color="#000000"><br />          assign-color<br />         ]<br />        ]<br />      ]<br /><br />  </font><font color="#0000aa">ask</font><font color="#000000"> mosquitoes </font><font color="#660096">with</font><font color="#000000"> [blood-seeking? </font><font color="#660096">and</font><font color="#000000"> exposed?]                     </font><font color="#5a5a5a">;the mosquito is infected but still not able to transmit the virus to susceptible hosts</font><font color="#000000"><br />  [<br />    </font><font color="#0000aa">let</font><font color="#000000"> my-blood-source </font><font color="#660096">one-of</font><font color="#000000"> vertebrate-hosts </font><font color="#660096">in-radius</font><font color="#000000"> </font><font color="#963700">0.5</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> my-blood-source </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">nobody</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> biting-success<br />      [<br />        </font><font color="#0000aa">set</font><font color="#000000"> engorged? </font><font color="#963700">true</font><font color="#000000"><br />        </font><font color="#0000aa">if</font><font color="#000000"> time-to-blood-digestion </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">-1</font><font color="#000000"> [</font><font color="#0000aa">set</font><font color="#000000"> time-to-blood-digestion </font><font color="#963700">0</font><font color="#000000">]<br />        </font><font color="#0000aa">set</font><font color="#000000"> blood-meals blood-meals </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />        </font><font color="#0000aa">let</font><font color="#000000"> blood-sucked </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> blood-meal-level blood-meal-level </font><font color="#660096">+</font><font color="#000000"> blood-sucked<br />        </font><font color="#0000aa">if</font><font color="#000000"> blood-meal-level </font><font color="#660096">&gt;=</font><font color="#000000"> </font><font color="#963700">0.5</font><font color="#000000"> [</font><font color="#0000aa">set</font><font color="#000000"> blood-seeking? </font><font color="#963700">false</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> blood-meal-level </font><font color="#963700">0</font><font color="#000000">]<br />      ]<br />   ]<br /><br /> </font><font color="#0000aa">ask</font><font color="#000000"> mosquitoes </font><font color="#660096">with</font><font color="#000000"> [blood-seeking? </font><font color="#660096">and</font><font color="#000000"> infectious?]                     </font><font color="#5a5a5a">;the mosquito is infected and able to transmit the virus to susceptible hosts</font><font color="#000000"><br />  [<br />    </font><font color="#0000aa">let</font><font color="#000000"> my-blood-source </font><font color="#660096">one-of</font><font color="#000000"> vertebrate-hosts </font><font color="#660096">in-radius</font><font color="#000000"> </font><font color="#963700">0.5</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> my-blood-source </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">nobody</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> biting-success<br />      [<br />        </font><font color="#0000aa">set</font><font color="#000000"> engorged? </font><font color="#963700">true</font><font color="#000000"><br />        </font><font color="#0000aa">if</font><font color="#000000"> time-to-blood-digestion </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">-1</font><font color="#000000"> [</font><font color="#0000aa">set</font><font color="#000000"> time-to-blood-digestion </font><font color="#963700">0</font><font color="#000000">]<br />        </font><font color="#0000aa">set</font><font color="#000000"> blood-meals blood-meals </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />        </font><font color="#0000aa">let</font><font color="#000000"> blood-sucked </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> blood-meal-level blood-meal-level </font><font color="#660096">+</font><font color="#000000"> blood-sucked<br />        </font><font color="#0000aa">if</font><font color="#000000"> blood-meal-level </font><font color="#660096">&gt;=</font><font color="#000000"> </font><font color="#963700">0.5</font><font color="#000000"> [</font><font color="#0000aa">set</font><font color="#000000"> blood-seeking? </font><font color="#963700">false</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> blood-meal-level </font><font color="#963700">0</font><font color="#000000">]<br /><br />        </font><font color="#0000aa">ask</font><font color="#000000"> my-blood-source<br />        [<br />         </font><font color="#0000aa">if</font><font color="#000000"> susceptible? </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> mosquito-transmission-competence<br />          [<br />           </font><font color="#0000aa">set</font><font color="#000000"> susceptible? </font><font color="#963700">false</font><font color="#000000"><br />           </font><font color="#0000aa">set</font><font color="#000000"> exposed? </font><font color="#963700">true</font><font color="#000000"><br />           assign-color<br />          ]<br />        ]<br />     ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> extrinsic-incubation-period<br />  </font><font color="#0000aa">ask</font><font color="#000000"> mosquitoes </font><font color="#660096">with</font><font color="#000000"> [exposed?]<br />  [<br />   </font><font color="#0000aa">set</font><font color="#000000"> virus-incubation virus-incubation </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">     </font><font color="#5a5a5a">;update the time of virus incubation in exposed mosquitoes</font><font color="#000000"><br />   </font><font color="#0000aa">if</font><font color="#000000"> virus-incubation </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">120</font><font color="#000000">                     </font><font color="#5a5a5a">;12 days</font><font color="#000000"><br />    [<br />     </font><font color="#0000aa">set</font><font color="#000000"> exposed? </font><font color="#963700">false</font><font color="#000000"><br />     </font><font color="#0000aa">set</font><font color="#000000"> infectious? </font><font color="#963700">true</font><font color="#000000"><br />     assign-color<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> become-viremic<br />  </font><font color="#0000aa">ask</font><font color="#000000"> monkeys </font><font color="#660096">with</font><font color="#000000"> [exposed?]<br />  [<br />   </font><font color="#0000aa">set</font><font color="#000000"> latent-period latent-period </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">   </font><font color="#5a5a5a">;update the latent period in exposed monkeys</font><font color="#000000"><br />   </font><font color="#0000aa">if</font><font color="#000000"> latent-period </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">30</font><font color="#000000">                 </font><font color="#5a5a5a">;3 days</font><font color="#000000"><br />    [<br />     </font><font color="#0000aa">set</font><font color="#000000"> exposed? </font><font color="#963700">false</font><font color="#000000"><br />     </font><font color="#0000aa">set</font><font color="#000000"> infectious? </font><font color="#963700">true</font><font color="#000000"><br />     assign-color<br />    ]<br />  ]<br /><br />  </font><font color="#0000aa">ask</font><font color="#000000"> other-hosts </font><font color="#660096">with</font><font color="#000000"> [exposed?]<br />  [<br />   </font><font color="#0000aa">set</font><font color="#000000"> latent-period latent-period </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />   </font><font color="#0000aa">if</font><font color="#000000"> latent-period </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">30</font><font color="#000000"><br />    [<br />     </font><font color="#0000aa">set</font><font color="#000000"> exposed? </font><font color="#963700">false</font><font color="#000000"><br />     </font><font color="#0000aa">set</font><font color="#000000"> infectious? </font><font color="#963700">true</font><font color="#000000"><br />     assign-color<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> recovery-or-die<br />  </font><font color="#0000aa">ask</font><font color="#000000"> monkeys </font><font color="#660096">with</font><font color="#000000"> [infectious?]<br />  [<br />   </font><font color="#0000aa">set</font><font color="#000000"> viremic-period viremic-period </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">0.1</font><font color="#000000">       </font><font color="#5a5a5a">;update viremic period in monkeys</font><font color="#000000"><br />   </font><font color="#0000aa">if</font><font color="#000000"> viremic-period </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">                         </font><font color="#5a5a5a">;40 time steps</font><font color="#000000"><br />    [<br />     </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">0.8</font><font color="#000000"> [</font><font color="#0000aa">die</font><font color="#000000">][</font><font color="#0000aa">set</font><font color="#000000"> infectious? </font><font color="#963700">false</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> immune? </font><font color="#963700">true</font><font color="#000000"> assign-color]  </font><font color="#5a5a5a">;infectious monkeys have an 80% chance of dying.</font><font color="#000000"><br />    ]<br />  ]<br /><br />  </font><font color="#0000aa">ask</font><font color="#000000"> other-hosts </font><font color="#660096">with</font><font color="#000000"> [infectious?]<br />  [<br />   </font><font color="#0000aa">set</font><font color="#000000"> viremic-period viremic-period </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">0.1</font><font color="#000000"><br />   </font><font color="#0000aa">if</font><font color="#000000"> viremic-period </font><font color="#660096">&gt;</font><font color="#000000"> alt-host-viremic-period<br />    [<br />     </font><font color="#0000aa">set</font><font color="#000000"> infectious? </font><font color="#963700">false</font><font color="#000000"><br />     </font><font color="#0000aa">set</font><font color="#000000"> immune? </font><font color="#963700">true</font><font color="#000000"><br />     assign-color<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> Check-and-eliminate-mosquito<br />  </font><font color="#0000aa">ask</font><font color="#000000"> mosquitoes<br />  [<br />   </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> (</font><font color="#660096">-</font><font color="#000000"> </font><font color="#660096">ln</font><font color="#000000"> daily-survival-rate </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000">) </font><font color="#5a5a5a">;this calculates the hourly mortality rate</font><font color="#000000"><br />   [<br />    </font><font color="#0000aa">die</font><font color="#000000"><br />   ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> mosquito-adult-emergence<br />   </font><font color="#0000aa">let</font><font color="#000000"> mosquito-abundance </font><font color="#660096">count</font><font color="#000000"> mosquitoes<br />   </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [patch-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;breeding site&quot;</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> </font><font color="#660096">empty?</font><font color="#000000"> larval-development-time]<br />   [<br />    </font><font color="#0000aa">if</font><font color="#000000"> mosquito-abundance </font><font color="#660096">&lt;</font><font color="#000000"> current-K </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">last</font><font color="#000000"> larval-development-time </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">120</font><font color="#000000">   </font><font color="#5a5a5a">;12 days</font><font color="#000000"><br />    [<br />      sprout-mosquitoes </font><font color="#963700">1</font><font color="#000000"><br />       [<br />        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;circle&quot;</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> blood-seeking? </font><font color="#963700">false</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> engorged? </font><font color="#963700">false</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> gravid? </font><font color="#963700">false</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> newly-emerged? </font><font color="#963700">true</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> time-since-emergence </font><font color="#963700">0</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> time-to-blood-digestion </font><font color="#963700">-1</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> exposed? </font><font color="#963700">false</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> initiators? </font><font color="#963700">false</font><font color="#000000"><br />        </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">last</font><font color="#000000"> larval-viral-status </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> vertical-infection-rate<br />          [<br />           </font><font color="#0000aa">set</font><font color="#000000"> susceptible? </font><font color="#963700">false</font><font color="#000000"><br />           </font><font color="#0000aa">set</font><font color="#000000"> infectious? </font><font color="#963700">true</font><font color="#000000"><br />           assign-color<br />          ]<br />          [<br />           </font><font color="#0000aa">set</font><font color="#000000"> susceptible? </font><font color="#963700">true</font><font color="#000000"><br />           </font><font color="#0000aa">set</font><font color="#000000"> infectious? </font><font color="#963700">false</font><font color="#000000"><br />           assign-color<br />          ]<br />        ]<br />        </font><font color="#5a5a5a">;;update the patch lists</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> larval-development-time </font><font color="#660096">but-last</font><font color="#000000"> larval-development-time<br />      </font><font color="#0000aa">set</font><font color="#000000"> larval-viral-status </font><font color="#660096">but-last</font><font color="#000000"> larval-viral-status<br />     ]<br />   ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000">  check-other-hosts-lifespan<br />  </font><font color="#0000aa">ask</font><font color="#000000"> other-hosts<br />  [<br />    </font><font color="#0000aa">set</font><font color="#000000"> lifetime lifetime </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">0.1</font><font color="#000000">     </font><font color="#5a5a5a">;update lifetime</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> lifetime </font><font color="#660096">&gt;</font><font color="#000000"> lifespan          </font><font color="#5a5a5a">;check if the lifetime is higher than lifespan; if so, the individual will hatch a new one and die (a constant population size is assumed)</font><font color="#000000"><br />    [<br />      </font><font color="#0000aa">hatch</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />      [<br />       </font><font color="#0000aa">set</font><font color="#000000"> lifespan </font><font color="#660096">random-poisson</font><font color="#000000"> other-hosts-mean-lifespan<br />       </font><font color="#0000aa">set</font><font color="#000000"> lifetime </font><font color="#963700">0</font><font color="#000000"><br />       </font><font color="#0000aa">set</font><font color="#000000"> exposed? </font><font color="#963700">false</font><font color="#000000"><br />       </font><font color="#0000aa">set</font><font color="#000000"> infectious? </font><font color="#963700">false</font><font color="#000000"><br />        </font><font color="#0000aa">ifelse</font><font color="#000000"> other-host-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;Dead-end&quot;</font><font color="#000000"> [</font><font color="#0000aa">set</font><font color="#000000"> susceptible? </font><font color="#963700">false</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> immune? </font><font color="#963700">true</font><font color="#000000">] [</font><font color="#0000aa">set</font><font color="#000000"> susceptible? </font><font color="#963700">true</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> immune? </font><font color="#963700">false</font><font color="#000000">]<br />       </font><font color="#0000aa">set</font><font color="#000000"> latent-period </font><font color="#963700">0</font><font color="#000000"><br />       </font><font color="#0000aa">set</font><font color="#000000"> viremic-period </font><font color="#963700">0</font><font color="#000000"><br />       assign-color<br />      ]<br />      </font><font color="#0000aa">die</font><font color="#000000"><br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> insert-initial-infected-mosquitoes<br />  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> start-YFV-circulation </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">count</font><font color="#000000"> mosquitoes </font><font color="#660096">*</font><font color="#000000"> prop-initial-infec-mosquitoes </font><font color="#660096">&gt;=</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">  </font><font color="#5a5a5a">;the conditions to start YFV circulation</font><font color="#000000"><br />  [<br />    </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">n-of</font><font color="#000000"> (</font><font color="#660096">count</font><font color="#000000"> mosquitoes </font><font color="#660096">*</font><font color="#000000"> prop-initial-infec-mosquitoes) mosquitoes<br />    [<br />     </font><font color="#0000aa">set</font><font color="#000000"> susceptible? </font><font color="#963700">false</font><font color="#000000"><br />     </font><font color="#0000aa">set</font><font color="#000000"> exposed? </font><font color="#963700">false</font><font color="#000000"><br />     </font><font color="#0000aa">set</font><font color="#000000"> infectious? </font><font color="#963700">true</font><font color="#000000"><br />     </font><font color="#0000aa">set</font><font color="#000000"> initiators? </font><font color="#963700">true</font><font color="#000000"><br />     assign-color<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#5a5a5a">;;;;model reports</font><font color="#000000"><br /><br /></font><font color="#007f69">to-report</font><font color="#000000"> possible-vertical-transmission-events<br />  </font><font color="#0000aa">let</font><font color="#000000"> infec-larval </font><font color="#660096">sum</font><font color="#000000"> [num-potential-infec-mosquitoes] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [patch-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;breeding site&quot;</font><font color="#000000">]<br />  </font><font color="#0000aa">report</font><font color="#000000"> infec-larval<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to-report</font><font color="#000000"> mosquito-infection-rate<br />  </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> start-YFV-circulation<br />  [</font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">]<br />  [<br />  </font><font color="#0000aa">let</font><font color="#000000"> mosq-infec </font><font color="#660096">count</font><font color="#000000"> mosquitoes </font><font color="#660096">with</font><font color="#000000"> [infectious? </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> initiators?]<br />  </font><font color="#0000aa">let</font><font color="#000000"> num-mosq </font><font color="#660096">count</font><font color="#000000"> mosquitoes<br />    </font><font color="#0000aa">if</font><font color="#000000"> num-mosq </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> [</font><font color="#0000aa">set</font><font color="#000000"> num-mosq </font><font color="#963700">1</font><font color="#000000">]<br />  </font><font color="#0000aa">let</font><font color="#000000"> infec-rate mosq-infec </font><font color="#660096">/</font><font color="#000000"> num-mosq<br />  </font><font color="#0000aa">report</font><font color="#000000"> infec-rate<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to-report</font><font color="#000000"> max-mosquito-infection-rate<br />  </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> start-YFV-circulation<br />  [</font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">]<br />  [<br />  </font><font color="#0000aa">let</font><font color="#000000"> max-mosq-infec </font><font color="#660096">max</font><font color="#000000"> hourly-mosquito-infection-rate<br />  </font><font color="#0000aa">report</font><font color="#000000"> max-mosq-infec<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to-report</font><font color="#000000"> monkey-mortality<br />  </font><font color="#0000aa">let</font><font color="#000000"> monk-mort </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> (</font><font color="#660096">count</font><font color="#000000"> monkeys </font><font color="#660096">/</font><font color="#000000"> monkey-population)<br />  </font><font color="#0000aa">report</font><font color="#000000"> monk-mort<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to-report</font><font color="#000000"> YFV-circulation-days<br />  </font><font color="#0000aa">let</font><font color="#000000"> YFV-circ </font><font color="#963700">0</font><font color="#000000"><br />  </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> start-YFV-circulation<br />  [</font><font color="#0000aa">set</font><font color="#000000"> YFV-circ YFV-circ]<br />  [</font><font color="#0000aa">set</font><font color="#000000"> YFV-circ number-of-days </font><font color="#660096">-</font><font color="#000000"> (start-YFV-circulation </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000">)]<br />  </font><font color="#0000aa">report</font><font color="#000000"> YFV-circ<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to-report</font><font color="#000000"> alt-hosts-infectious-individuals<br />  </font><font color="#0000aa">let</font><font color="#000000"> infec-alt-hosts </font><font color="#963700">0</font><font color="#000000"><br />  </font><font color="#0000aa">ifelse</font><font color="#000000"> alt-host-trans-competence </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"><br />  [</font><font color="#0000aa">set</font><font color="#000000"> infec-alt-hosts </font><font color="#660096">count</font><font color="#000000"> other-hosts </font><font color="#660096">with</font><font color="#000000"> [other-host-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;Alternative&quot;</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> infectious?]]<br />  [</font><font color="#0000aa">set</font><font color="#000000"> infec-alt-hosts infec-alt-hosts]<br />  </font><font color="#0000aa">report</font><font color="#000000"> infec-alt-hosts<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#5a5a5a">;;;Some extra code to model reports</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;to-report nuliparous-proportion</font><font color="#000000"><br /></font><font color="#5a5a5a">;  let nulip count mosquitoes with [oviposition-number = 0 and not newly-emerged?]</font><font color="#000000"><br /></font><font color="#5a5a5a">;  let tot-mosq count mosquitoes with [not newly-emerged?]</font><font color="#000000"><br /></font><font color="#5a5a5a">;  if tot-mosq = 0 [set tot-mosq 1]</font><font color="#000000"><br /></font><font color="#5a5a5a">;  let nulip-prop nulip / tot-mosq</font><font color="#000000"><br /></font><font color="#5a5a5a">;  report nulip-prop</font><font color="#000000"><br /></font><font color="#5a5a5a">;end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;to-report parous-proportion</font><font color="#000000"><br /></font><font color="#5a5a5a">;  let parous count mosquitoes with [oviposition-number &gt; 0 ]</font><font color="#000000"><br /></font><font color="#5a5a5a">;  let tot-mosq count mosquitoes with [not newly-emerged?]</font><font color="#000000"><br /></font><font color="#5a5a5a">;  if tot-mosq = 0 [set tot-mosq 1]</font><font color="#000000"><br /></font><font color="#5a5a5a">;  let parous-prop parous / tot-mosq</font><font color="#000000"><br /></font><font color="#5a5a5a">;  report parous-prop</font><font color="#000000"><br /></font><font color="#5a5a5a">;end</font><font color="#000000"><br /><br /><br /></font><font color="#5a5a5a">;to-report blood-meal-average</font><font color="#000000"><br /></font><font color="#5a5a5a">;  let total-blood-meal sum [blood-meals] of mosquitoes with [not newly-emerged?]</font><font color="#000000"><br /></font><font color="#5a5a5a">;  let tot-mosq count mosquitoes with [not newly-emerged?]</font><font color="#000000"><br /></font><font color="#5a5a5a">;  if tot-mosq = 0 [set tot-mosq 1]</font><font color="#000000"><br /></font><font color="#5a5a5a">;  let meal-average total-blood-meal / tot-mosq</font><font color="#000000"><br /></font><font color="#5a5a5a">;  report meal-average</font><font color="#000000"><br /></font><font color="#5a5a5a">;end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;to-report mean-oviposition-events-per-breeding-site</font><font color="#000000"><br /></font><font color="#5a5a5a">;  ask patches with [patch-type = &quot;breeding site&quot;]</font><font color="#000000"><br /></font><font color="#5a5a5a">;  [</font><font color="#000000"><br /></font><font color="#5a5a5a">;   ifelse empty? larval-development-time</font><font color="#000000"><br /></font><font color="#5a5a5a">;    [set my-oviposition-events-number 0]</font><font color="#000000"><br /></font><font color="#5a5a5a">;    [set my-oviposition-events-number length larval-development-time]</font><font color="#000000"><br /></font><font color="#5a5a5a">;  ]</font><font color="#000000"><br /></font><font color="#5a5a5a">;  let mean-ovip mean [my-oviposition-events-number] of patches with [patch-type = &quot;breeding site&quot;]</font><font color="#000000"><br /></font><font color="#5a5a5a">;  report mean-ovip</font><font color="#000000"><br /></font><font color="#5a5a5a">;end</font>
</pre>
